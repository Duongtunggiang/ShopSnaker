@model NewShop.Models.Product

@{
    Layout = "~/Views/Shared/SalerLayout.cshtml";
    ViewBag.Title = "Thêm sản phẩm";
}

<h2>Thêm sản phẩm</h2>

@using (Html.BeginForm("CreateProduct", "Saler", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.ValidationSummary(true)

    <div class="form-group">
        <a href='@Url.Action("Create","Category")' class="btn btn-primary">Thêm danh mục</a>
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.CategoryID, "Danh mục")
        @Html.DropDownList("CategoryID", null, "Chọn danh mục", new { @class = "form-control", @id = "categoryDropdown" })
    </div>

    <div class="form-group" id="productInputs" style="display:none;">
        @Html.LabelFor(m => m.ProductName)
        @Html.TextBoxFor(m => m.ProductName, new { @class = "form-control" })

        @Html.LabelFor(m => m.Price)
        @Html.TextBoxFor(m => m.Price, new { @class = "form-control", @type = "number", step = "0.01" })

        @Html.LabelFor(m => m.Quality)
        @Html.TextBoxFor(m => m.Quality, new { @class = "form-control", @type = "number" })

        @Html.LabelFor(m => m.Discount)
        @Html.TextBoxFor(m => m.Discount, new { @class = "form-control", @type = "number", step = "0.01" })

        @Html.LabelFor(m => m.ProductImagePath)
        @Html.TextBoxFor(m => m.ProductImagePath, new { @class = "form-control", type = "file" })

        @Html.LabelFor(m => m.Color)
        @Html.TextBoxFor(m => m.Color, new { @class = "form-control" })

        @Html.LabelFor(m => m.Style)
        @Html.TextBoxFor(m => m.Style, new { @class = "form-control" })

        <button type="submit" class="btn btn-primary">Thêm</button>
    </div>
}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $('#categoryDropdown').change(function () {
            if ($(this).val()) {
                $('#productInputs').show();
            } else {
                $('#productInputs').hide();
            }
        });
    });
</script>
